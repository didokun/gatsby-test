(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{131:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(174),i=a(168),o=a(136),l=a(6),c=a.n(l),d=a(46),m=a.n(d),u=a(387),g=a(4),p=a.n(g),f=(a(539),a(541)),_=a.n(f),h=a(176),v=function(){function e(){}return e.required=function(e){if(!e.toString().trim().length)return"require"},e.email=function(e){if(!_.a.isEmail(e))return e+" is not a valid email."},e.lt=function(e,t){if(!e.toString().trim().length>t.maxLength)return r.a.createElement("span",{className:"error"},"The value exceeded ",t.maxLength," symbols.")},e.validationMessage=function(e,t){var a="";switch(e){case"required":a=h.a.stringI18n("This field is required",t);break;case"email":a=h.a.stringI18n("Email format not valid",t)}return a},e}(),b=a(177),E=a(602),A=a.n(E),y=a(624),S=a(625),x=function(e){function t(t){var a;return(a=e.call(this,t)||this).contactApi={message:""},a.state={message:{type:"",content:""},sending:0},a.handleValidSubmit=a.handleValidSubmit.bind(m()(m()(a))),a.contactApi="fr"===a.props.lang?y:S,a}c()(t,e);var a=t.prototype;return a.handleValidSubmit=function(e,t){var a=this,n=this.props.lang;this.setState({sending:1});var r={contact_form:[{target_id:"contact"}],uid:[{target_id:"contact"}],subject:[{value:t.subject}],name:[{value:t.first_name+", "+t.last_name}],mail:[{value:t.mail}],field_destinatione:[{value:t.destination}],message:[{value:t.message}]};A.a.sendMessage(this.props.lang,"contact",r).then(function(e){a.setState({message:{type:"success",content:a.contactApi.message},sending:2})}).catch(function(e){a.setState({sending:2,message:{type:"danger",content:h.a.stringI18n("Error occurred while sending to the server, please try again later.",n)}})})},a.render=function(){var e=this.props.lang;return r.a.createElement(r.a.Fragment,null,this.state.sending<=1?r.a.createElement(u.AvForm,{onValidSubmit:this.handleValidSubmit},r.a.createElement(u.AvField,{name:"subject",label:h.a.stringI18n("Subject",e),type:"text",required:!0,errorMessage:v.validationMessage("required",e)}),r.a.createElement(u.AvField,{name:"first_name",label:h.a.stringI18n("First name",e),type:"text",required:!0,errorMessage:v.validationMessage("required",e)}),r.a.createElement(u.AvField,{name:"last_name",label:h.a.stringI18n("Last name",e),type:"text",required:!0,errorMessage:v.validationMessage("required",e)}),r.a.createElement(u.AvField,{name:"mail",label:h.a.stringI18n("Email",e),type:"email",required:!0,errorMessage:v.validationMessage("required",e)}),r.a.createElement(u.AvField,{type:"select",label:h.a.stringI18n("Destination",e),name:"field_destination",required:!0,errorMessage:v.validationMessage("required",e)},r.a.createElement("option",{value:""},h.a.stringI18n("-Select destination-",e)),b.informations[e].destination.map(function(e){return r.a.createElement("option",{key:e.key,value:e.key},e.value)})),r.a.createElement(u.AvField,{name:"message",label:"Message",type:"textarea",required:!0,errorMessage:v.validationMessage("required",e)}),r.a.createElement(o.Button,{color:"primary",disabled:this.state.sending>=1},1===this.state.sending?r.a.createElement("i",{className:"fas fa-spinner fa-spin"}):null," ",h.a.stringI18n("Submit",e))):r.a.createElement(r.a.Fragment,null,this.state.message.content.length>0?r.a.createElement(o.Alert,{color:this.state.message.type},this.state.message.content):null))},t}(r.a.Component);x.propTypes={lang:p.a.string.isRequired};t.default=function(e){var t=e.pageContext;return r.a.createElement(s.a,{context:t},r.a.createElement(i.a,{context:t}),r.a.createElement(o.Container,null,r.a.createElement(o.Row,{className:"contact"},r.a.createElement(o.Col,{lg:"6",md:"6",xs:"12",className:"information"},r.a.createElement("div",{className:"content",dangerouslySetInnerHTML:{__html:t.node_content.field_contact_info[0].value}})),r.a.createElement(o.Col,{lg:"6",md:"6",xs:"12",className:"form"},r.a.createElement(x,{lang:t.lang})))))}},602:function(e,t,a){var n=a(603),r=a(604);e.exports.sendMessage=function(e,t,a){void 0===e&&(e="en");var s=n.config(e,"/entity/"+t+"_message/",!0,!0);return s.method="POST",s.data=a,r.request(s)},e.exports.getInformation=function(e,t){void 0===e&&(e="en");var a=n.config(e,"/contact/"+t+"/",!0,!0);return r.request(a)}},603:function(e,t,a){var n={API_URL:"http://www.parrot-corporate.local/",API_BASE:"jsonapi",BASIC_AUTH_USERNAME:"admin",BASIC_AUTH_PASSWORD:"123456",API_TYPE:"?_format=json"};e.exports.env=n,e.exports.config=function(e,t,a,r){return void 0===e&&(e="en"),void 0===a&&(a=!1),void 0===r&&(r=!1),{method:"get",baseURL:n.API_URL+e+"/"+(r?"":n.API_BASE),url:t+(a?n.API_TYPE:""),headers:{"Content-Type":"application/json","Accept-Language":e},auth:{username:n.BASIC_AUTH_USERNAME,password:n.BASIC_AUTH_PASSWORD}}}},624:function(e){e.exports={uuid:"9a7d3a78-0cea-46be-9ea9-0e99deabb3a3",langcode:"en",status:!0,dependencies:{module:["contact_storage"]},third_party_settings:{contact_storage:{submit_text:"Send message",show_preview:!1,disabled_form_message:"This contact form has been disabled.",maximum_submissions_user:0,page_autoreply_format:"plain_text"}},id:"contact",label:"Contact",recipients:["adil.ech-charafi.ext@parrot.com"],reply:"",weight:0,message:"Merci pour ton feedback",redirect:"/"}},625:function(e){e.exports={uuid:"9a7d3a78-0cea-46be-9ea9-0e99deabb3a3",langcode:"en",status:!0,dependencies:{module:["contact_storage"]},third_party_settings:{contact_storage:{submit_text:"Send message",show_preview:!1,disabled_form_message:"This contact form has been disabled.",maximum_submissions_user:0,page_autoreply_format:"plain_text"}},id:"contact",label:"Contact",recipients:["adil.ech-charafi.ext@parrot.com"],reply:"",weight:0,message:"Thank you for your faceback",redirect:"/"}}}]);
//# sourceMappingURL=component---src-templates-contact-js-93898268fbd2a3922287.js.map