(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{130:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(184),s=a(175),o=a(135),l=a(6),c=a.n(l),m=a(46),u=a.n(m),d=a(386),g=a(4),p=a.n(g),v=(a(538),a(540)),f=a.n(v),E=a(173),h=function(){function e(){}return e.required=function(e){if(!e.toString().trim().length)return"require"},e.email=function(e){if(!f.a.isEmail(e))return e+" is not a valid email."},e.lt=function(e,t){if(!e.toString().trim().length>t.maxLength)return r.a.createElement("span",{className:"error"},"The value exceeded ",t.maxLength," symbols.")},e.validationMessage=function(e,t){var a="";switch(e){case"required":a=E.a.stringI18n("This field is required",t);break;case"email":a=E.a.stringI18n("Email format not valid",t)}return a},e}(),_=a(174),A=a(601),S=a.n(A),b=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={message:{type:"",content:""}},a.handleValidSubmit=a.handleValidSubmit.bind(u()(u()(a))),a}c()(t,e);var a=t.prototype;return a.handleValidSubmit=function(e,t){var a=this,n={contact_form:[{target_id:"contact"}],uid:[{target_id:"contact"}],subject:[{value:t.subject}],name:[{value:t.first_name+", "+t.last_name}],mail:[{value:t.mail}],field_destination:[{value:t.destination}],message:[{value:t.message}]};console.log(n),S.a.sendMessage(this.props.lang,"contact",n).then(function(e){a.setState({message:{type:"success",content:"L3az"}}),console.log(e)}).catch(function(e){a.setState({message:{type:"danger",content:e}})})},a.render=function(){var e=this.props.lang;return console.log(_),r.a.createElement(d.AvForm,{onValidSubmit:this.handleValidSubmit},this.state.message.content.length>0?r.a.createElement(o.Alert,{color:this.state.message.type},this.state.message.content):null,r.a.createElement(d.AvField,{name:"subject",label:E.a.stringI18n("Subject",e),type:"text",required:!0,errorMessage:h.validationMessage("required",e)}),r.a.createElement(d.AvField,{name:"first_name",label:E.a.stringI18n("First name",e),type:"text",required:!0,errorMessage:h.validationMessage("required",e)}),r.a.createElement(d.AvField,{name:"last_name",label:E.a.stringI18n("Last name",e),type:"text",required:!0,errorMessage:h.validationMessage("required",e)}),r.a.createElement(d.AvField,{name:"mail",label:E.a.stringI18n("Email",e),type:"email",required:!0,errorMessage:h.validationMessage("required",e)}),r.a.createElement(d.AvField,{type:"select",label:E.a.stringI18n("Destination",e),name:"field_destination",required:!0,errorMessage:h.validationMessage("required",e)},r.a.createElement("option",{value:""},E.a.stringI18n("-Select destination-",e)),_.informations[e].destination.map(function(e){return r.a.createElement("option",{key:e.key,value:e.key},e.value)})),r.a.createElement(d.AvField,{name:"message",label:"Message",type:"textarea",required:!0,errorMessage:h.validationMessage("required",e)}),r.a.createElement(o.Button,{color:"primary"},E.a.stringI18n("Submit",e)))},t}(r.a.Component);b.propTypes={lang:p.a.string.isRequired};t.default=function(e){var t=e.pageContext;return r.a.createElement(i.a,{context:t},r.a.createElement(s.a,{context:t}),r.a.createElement(o.Container,null,r.a.createElement(o.Row,{className:"contact"},r.a.createElement(o.Col,{lg:"6",md:"6",xs:"12",className:"information"},r.a.createElement("div",{className:"content",dangerouslySetInnerHTML:{__html:t.node_content.field_contact_info[0].value}})),r.a.createElement(o.Col,{lg:"6",md:"6",xs:"12",className:"form"},r.a.createElement(b,{lang:t.lang})))))}},601:function(e,t,a){var n=a(602),r=a(603);e.exports.sendMessage=function(e,t,a){void 0===e&&(e="en");var i=n.config(e,"/entity/"+t+"_message/",!0,!0);return i.method="POST",i.data=a,r.request(i)},e.exports.getInformation=function(e,t){void 0===e&&(e="en");var a=n.config(e,"/contact/"+t+"/",!0);return r.request(a)}},602:function(e,t,a){var n={API_URL:"http://www.parrot-corporate.local/",API_BASE:"jsonapi",BASIC_AUTH_USERNAME:"admin",BASIC_AUTH_PASSWORD:"123456",API_TYPE:"?_format=json"};e.exports.env=n,e.exports.config=function(e,t,a,r){return void 0===e&&(e="en"),void 0===a&&(a=!1),void 0===r&&(r=!1),{method:"get",baseURL:n.API_URL+e+"/"+(r?"":n.API_BASE),url:t+(a?n.API_TYPE:""),headers:{"Content-Type":"application/json","Accept-Language":e},auth:{username:n.BASIC_AUTH_USERNAME,password:n.BASIC_AUTH_PASSWORD}}}}}]);
//# sourceMappingURL=component---src-templates-contact-js-c23a59326dfe28f979b4.js.map